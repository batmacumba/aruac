<h1>index.js</h1>
<pre><code class="lang-js"><span class="comment">/**
 * Array#filter.
 *
 * @param {Array} arr
 * @param {Function} fn
 * @return {Array}
 */</span>

module.exports = <span class="function"><span class="keyword">function</span> <span class="params">(arr, fn)</span> {</span>
  <span class="keyword">if</span> (arr.filter) <span class="keyword">return</span> arr.filter(fn);
  <span class="keyword">var</span> ret = [];
  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) {
    <span class="keyword">if</span> (!hasOwn.call(arr, i)) <span class="keyword">continue</span>;
    <span class="keyword">if</span> (fn(arr[i], i, arr)) ret.push(arr[i]);
  }
  <span class="keyword">return</span> ret;
};

<span class="keyword">var</span> hasOwn = Object.prototype.hasOwnProperty;
</code></pre>